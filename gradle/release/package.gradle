task packageApp(dependsOn: ['downloadLicenses',
                            'scriptsForRelease'], group: 'distribution') {
}

task scriptsForRelease(type: Copy, group: 'distribution') {
    from "${rootDir}/src/main/bin"
    into "${rootDir}/build/bin"

    outputs.upToDateWhen { false } // Forces the task to rerun every time, without requiring a clean.
}

task packageAppWithDistPermissions(dependsOn: packageApp, type: Exec, group: 'distribution') {
    commandLine 'chmod', '-R', '777', "${rootDir}/build/distributions"
}

beforeReleaseBuild.dependsOn packageAppWithDistPermissions
